{"version":3,"file":"public/javascripts/app.js","sources":["app/collections/activity_collection.coffee","app/collections/commons.coffee","app/collections/contacts.coffee","app/collections/micropost_collection.coffee","app/collections/notes.coffee","app/collections/pictures.coffee","app/collections/tags.coffee","app/initialize.coffee","app/lib/app_helpers.coffee","app/lib/jquery_helpers.coffee","app/lib/model.coffee","app/lib/renderer.coffee","app/lib/request.coffee","app/lib/string.coffee","app/lib/view.coffee","app/lib/view_collection.coffee","app/models/activity.coffee","app/models/common.coffee","app/models/contact.coffee","app/models/micropost.coffee","app/models/note.coffee","app/models/owner_model.coffee","app/models/picture.coffee","app/models/tag.coffee","app/routers/app_router.coffee","app/views/activities_view.coffee","app/views/activity_list_view.coffee","app/views/activity_view.coffee","app/views/app_view.coffee","app/views/common.coffee","app/views/commons.coffee","app/views/commons_view.coffee","app/views/contact_view.coffee","app/views/contacts_view.coffee","app/views/filter_tags_view.coffee","app/views/login_view.coffee","app/views/micropost_list_view.coffee","app/views/micropost_view.coffee","app/views/microposts_view.coffee","app/views/note.coffee","app/views/note_selector.coffee","app/views/notes.coffee","app/views/notes_view.coffee","app/views/picture.coffee","app/views/pictures.coffee","app/views/pictures_view.coffee","app/views/profile_view.coffee","app/views/question_view.coffee","app/views/register_name_view.coffee","app/views/register_password_view.coffee","app/views/simple_tag_list.coffee","app/views/simple_tag_view.coffee","app/views/tag_all_view.coffee","app/views/tag_view.coffee","app/views/tags_view.coffee","app/views/templates/activities.jade","app/views/templates/activity.jade","app/views/templates/activity_list.jade","app/views/templates/common.jade","app/views/templates/commons.jade","app/views/templates/commons_view.jade","app/views/templates/contact.jade","app/views/templates/contacts.jade","app/views/templates/home.jade","app/views/templates/micropost.jade","app/views/templates/micropost_list.jade","app/views/templates/microposts.jade","app/views/templates/note.jade","app/views/templates/note_selector_line.jade","app/views/templates/note_selector_list.jade","app/views/templates/note_selector_widget.jade","app/views/templates/notes.jade","app/views/templates/notes_view.jade","app/views/templates/picture.jade","app/views/templates/pictures.jade","app/views/templates/pictures_view.jade","app/views/templates/profile.jade","app/views/templates/question.jade","app/views/templates/simple_tag.jade","app/views/templates/simple_tags.jade","app/views/templates/tag.jade","app/views/templates/tag_all.jade","app/views/templates/tags.jade"],"names":[],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3CA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA","sourcesContent":["Activity = require '../models/activity'\n\n## Activity collection\nmodule.exports = class ActivityCollection extends Backbone.Collection\n    model: Activity\n\n    # Url where activities can be retrieved.\n    url: '/activities/all/'\n    baseUrl: '/activities/all/'\n\n    # Collection sorting is based on activity date.\n    comparator: (activity, activity2) ->\n        activity.get 'date' < activity2.get 'date'\n\n    # Select which field from backend response to use for parsing to populate\n    # collection.\n    parse: (response) ->\n        response.rows\n","module.exports = class CommonsCollection extends Backbone.Collection\n    model: require '../models/common'\n    url: 'commons/all/'\n\n    parse: (response) -> response.rows\n","module.exports = class ContactsCollection extends Backbone.Collection\n    model: require '../models/contact'\n    url: 'contacts/'\n\n    # Select which field from backend response to use for parsing to populate\n    # collection.\n    parse: (response) ->\n        response.rows\n        \n    containsContact: (contactUrl) ->\n        @find (contact) -> contactUrl is contact.get \"url\"\n","Micropost = require '../models/micropost'\n\n## Micropost collection\nmodule.exports = class MicropostCollection extends Backbone.Collection\n    model: Micropost\n\n    # Url where activities can be retrieved.\n    url: '/microposts/all/'\n    baseUrl: '/microposts/all/'\n\n    # Collection sorting is based on micropost date.\n    comparator: (micropost, micropost2) ->\n        micropost.get 'date' < micropost2.get 'date'\n\n    # Select which field from backend response to use for parsing to populate\n    # collection.\n    parse: (response) ->\n        response.rows\n","module.exports = class NotesCollection extends Backbone.Collection\n    model: require '../models/note'\n    url: 'notes/all/'\n\n    parse: (response) -> response.rows\n","module.exports = class PicturesCollection extends Backbone.Collection\n    model: require '../models/picture'\n    url: 'pictures/all/'\n\n    parse: (response) -> response.rows\n","module.exports = class TagsCollection extends Backbone.Collection\n    model: require '../models/tag'\n    url: 'contacts/tags/'\n\n    # Select which field from backend response to use for parsing to populate\n    # collection.\n    parse: (response) ->\n        response.rows\n\n    comparator: (tag) ->\n        return tag.get 'name'\n","# App Namespace\n# Change `CozyApp` to your app's name\n\n@Newebe ?= {}\nNewebe.routers ?= {}\nNewebe.views ?= {}\n\n\n$ ->\n    # Load Jquery helpers\n    addJqueryHelpers = require 'lib/jquery_helpers'\n    addJqueryHelpers()\n\n    # Load App Helpers\n    require '../lib/app_helpers'\n    AppRouter = require 'routers/app_router'\n    AppView = require 'views/app_view'\n\n    # Initialize App\n    Newebe.views.appView = new AppView()\n    Newebe.routers.appRouter = new AppRouter Newebe.views.appView\n\n    # Configure wysiwig editor\n    etch.config.default = etch.config.all\n\n    # Initialize Backbone History\n    Backbone.history.start()\n    if window.location.hash is ''\n        Newebe.routers.appRouter.navigate '', trigger: true\n","(() ->\n    # IIFE to avoid collisions with other variables\n    (->\n        # Make it safe to do console.log() always.\n        console = window.console = window.console or {}\n        method = undefined\n        dummy = ->\n        methods = ('assert,count,debug,dir,dirxml,error,exception,\n                   group,groupCollapsed,groupEnd,info,log,markTimeline,\n                   profile,profileEnd,time,timeEnd,trace,warn').split ','\n\n        console[method] = console[method] or dummy while method = methods.pop()\n    )()\n)()\n","# TODO: Check if JQuery selector is required\nmodule.exports = ->\n\n    window.alert = (msg) ->\n        $('#alert-widget').html msg\n        $('#alert-widget').show()\n        setTimeout =>\n            $('#alert-widget').fadeOut 2000\n        , 500\n\n    $.fn.disable = ->\n        @each ->\n            $(@).prop 'disabled', true\n            $(@).addClass 'disabled'\n\n    $.fn.enable = ->\n        @each ->\n            $(@).prop 'disabled', false\n            $(@).removeClass 'disabled'\n\n    $.fn.select = ->\n        @each ->\n            $(@).addClass 'selected'\n\n    $.fn.unselect = ->\n        @each ->\n            $(@).removeClass 'selected'\n\n    # Add JQuery extensions\n    $.fn.spin = (opts, color) ->\n        presets =\n            tiny:\n                lines: 8\n                length: 2\n                width: 2\n                radius: 3\n\n            small:\n                lines: 8\n                length: 1\n                width: 2\n                radius: 5\n\n            large:\n                lines: 10\n                length: 8\n                width: 4\n                radius: 8\n\n        if Spinner\n            @each ->\n                $this = $(this)\n                spinner = $this.data 'spinner'\n\n                if spinner?\n                    spinner.stop()\n                    $this.css 'color', $this.data 'color'\n                    $this.data 'spinner', null\n                    $this.data 'color', null\n\n                else if opts isnt false\n                    color = $this.css 'color'\n                    $this.data 'color', color\n                    $this.css 'color', 'transparent'\n                    if typeof opts is 'string'\n                        if opts of presets then opts = presets[opts]\n                        else opts = {}\n                        opts.color = color if color\n                    spinner = new Spinner(\n                        $.extend(color: $this.css('color'), opts))\n                    spinner.spin(this)\n                    $this.data 'spinner', spinner\n\n        else\n            console.log 'Spinner class is not available'\n","# Utility methods for models\nmodule.exports = class Model extends Backbone.Model\n\n    idAttribute: '_id'\n\n    # Model-view binding for forms. It binds an attribute of the model to a\n    # field.\n    bindField: (attribute, field) ->\n        unless field?\n            console.log \"try to bind a non existing field with #{attribute}\"\n        else\n            field.keyup =>\n                @set attribute, field.val(), silent: true\n                true\n\n            @on \"change:#{attribute}\", =>\n                field.val @get \"attribute\"\n","request = require './request'\n\n# Utilities to render stuff from newebe document data.\nmodule.exports = class Renderer\n\n    markdownConverter: new Showdown.converter()\n\n    # Check on what could be improved for a proper display of a given document.\n    # Actually only micropost are handled by this function.\n    renderDoc: (doc) ->\n        if doc?\n            if doc.get('doc_type') is 'MicroPost'\n                rawContent = doc.get 'content'\n                rawContent = sanitize(rawContent).escape()\n                content = '<div class=\"mod left w40\">'\n                content = @markdownConverter.makeHtml rawContent\n\n                if doc.get('pictures')?.length > 0 or\n                   doc.get('pictures_to_download')?.length > 0\n\n                    content += '<img src=\"static/images/attachment.png\" />'\n\n                if doc.get('commons')?.length > 0 or\n                   doc.get('commons_to_download')?.length > 0\n\n                    content += '<img src=\"static/images/attachment.png\" />'\n\n                content += '</div>'\n                content += '<div class=\"mod right w40 micropost-attachments\">'\n                content += @checkForPictures doc.get 'pictures'\n                content += @checkForPicturesToDl doc.get 'pictures_to_download'\n                content += @checkForCommons doc.get 'commons'\n                content += @checkForCommonsToDl doc.get 'commons_to_download'\n                content += @checkForImages rawContent\n                content += @checkForVideos rawContent\n                content += '</div>'\n                return content\n        return ''\n\n\n    # Transform a CouchDB formatted date to a human readable date.\n    renderDate: (dateString) ->\n        date =  moment dateString, 'YYYY-MM-DDThh:mm:ssZ'\n        date.format 'D MMM  YYYY, HH:mm'\n\n\n    # Return embedded picture code for an array of neweve picture IDs.\n    checkForPictures: (pictures) ->\n        result = \"\"\n        if pictures?.length > 0\n            for picture in pictures\n                result += \"\"\"\n<a href=\"pictures/#{picture}/#{picture}.jpg\">\n<img class=\"post-picture\" src=\"pictures/#{picture}/prev_#{picture}.jpg\" />\n</a>\n\"\"\"\n        result\n\n    checkForPicturesToDl: (pictures) ->\n        result = \"\"\n        if pictures?.length > 0\n            for picture in pictures\n                result += \"\"\"\n                <p>The image is not avalaible yet, you need to download it\n                first.</p>\n                <button class=\"download-picture-btn\">download</button>\n                \"\"\"\n        result\n\n    checkForCommons: (commons) ->\n        result = \"\"\n        if commons?.length > 0\n            for commonId in commons\n                if commonId?\n                    result += \"<a id=\\\"common-#{commonId}\\\"></a>\"\n                    request.get \"/commons/#{commonId}/\", (err, commonRows) ->\n                        common = commonRows.rows[0]\n                        link = \"/commons/#{commonId}/#{common.path}\"\n                        $(\"#common-#{commonId}\").attr 'href', link\n                        $(\"#common-#{commonId}\").html common.path\n        result\n\n    checkForCommonsToDl: (commons) ->\n        result = \"\"\n        if commons?.length > 0\n            for common in commons\n                result += \"\"\"\n                <p>The common is not avalaible yet, you need to download it\n                first.</p>\n                <button class=\"download-common-btn\">download</button>\n                \"\"\"\n        result\n\n\n    # Look for image URL and return embedded code corresponding to these\n    # pictures.\n    checkForImages: (content) ->\n        regexp = /\\[.+\\]\\((http|https):\\/\\/\\S+\\.(jpg|png|gif)\\)/g\n        urls = content.match regexp\n        result = \"\"\n\n        if urls\n            for url in urls\n                url = @getUrlFromMarkdown url\n\n                if url\n                    result += \"\"\"\n<p>\n<img style=\"max-width: 100%;\"\nsrc=\"#{url}\"\nalt=\"Image #{url}\" />\n</img>\n</p>\n\"\"\"\n        return result\n\n\n    # Extract url from a markdown link [text](url)\n    getUrlFromMarkdown: (markdownLink) ->\n        index = markdownLink.indexOf \"(\"\n        markdownLink.substring index + 1, markdownLink.length - 1\n\n\n    # Look for youtube videos and return embedded code corresponding to these\n    # videos.\n    # Remember we analyze markdown code, not displayed text.\n    checkForVideos: (content) ->\n        regexp = /\\[.+\\]\\((http|https):\\/\\/\\S*youtube.com\\/watch\\?v=\\S+\\)/g\n        urls = content.match(regexp)\n        result = \"\"\n\n        if urls\n            for url in urls\n                url = @getUrlFromMarkdown url\n\n                res = url.match(/v=\\S+&/)\n                key = res[0] if res?\n\n                unless key\n                    res = url.match(/v=\\S+/)\n                    key = res[0] if res?\n\n                if key\n                    if key.indexOf(\"&\") > 0\n                        key = key.substring 2, (key.length - 1)\n                    else\n                        key = key.substring 2, key.length\n\n                    result += \"\"\"\n<p>\n<iframe class=\"video\" style=\"max-width: 100%\" width=\"560\" height=\"315\"\nsrc=\"http://www.youtube.com/embed/#{key}\"\nframeborder=\"0\" allowfullscreen>\n</iframe>\n</p>\n\"\"\"\n        result\n","# Make ajax request more easy to do.\n# Expected callbacks: success and error\nexports.request = (type, url, data, callback) ->\n    $.ajax\n        type: type\n        url: url\n        data: if data? then JSON.stringify data else null\n        contentType: \"application/json\"\n        dataType: \"json\"\n        success: (data) ->\n            callback null, data if callback?\n        error: (data) ->\n            if data? and data.msg? and callback?\n                callback new Error data.msg\n            else if callback?\n                callback new Error \"Server error occured\"\n\n# Sends a get request with data as body\n# Expected callbacks: success and error\nexports.get = (url, callback) ->\n    exports.request \"GET\", url, null, callback\n\n# Sends a post request with data as body\n# Expected callbacks: success and error\nexports.post = (url, data, callback) ->\n    exports.request \"POST\", url, data, callback\n\n# Sends a put request with data as body\n# Expected callbacks: success and error\nexports.put = (url, data, callback) ->\n    exports.request \"PUT\", url, data, callback\n\n# Sends a delete request with data as body\n# Expected callbacks: success and error\nexports.del = (url, callback) ->\n    exports.request \"DELETE\", url, null, callback\n","\n# this function is weird...\nexports.isSpecialKey = (key, event) ->\n    keychar = String.fromCharCode(key).toLowerCase()\n    if (key is null) or (key is 0) or (key is 8) or (key is 9) or\n    (key is 13) or (key is 27)\n        true\n    else if ('abcdefghijklmnopqrstuvwxyz0123456789').indexOf(keychar) is -1\n        event.preventDefault()\n        false\n    else\n        true\n","module.exports = class View extends Backbone.View\n    tagName: 'div'\n\n    template: ->\n\n    initialize: ->\n        @render()\n\n    getRenderData: ->\n        model: @model?.toJSON()\n\n    render: ->\n        @beforeRender()\n        @$el.html @template()(@getRenderData())\n        @afterRender()\n        @\n\n    publish: (channel, data) ->\n        Backbone.Mediator.pub channel, data\n\n    beforeRender: ->\n\n    afterRender: ->\n\n    destroy: ->\n        @undelegateEvents()\n        @$el.removeData().unbind()\n        @remove()\n        Backbone.View::remove.call @\n\n    hide: -> @$el.hide()\n    show: -> @$el.show()\n    fadeOut: (callback) -> @$el.fadeOut callback\n    fadeIn: (callback) -> @$el.fadeIn callback\n","View = require './view'\n\nclass ViewCollection extends View\n    collection: null\n    view: null\n\n    length: ->\n        @views.length\n\n    constructor: (options) ->\n        super(options)\n        #collection.on 'reset', @renderAll\n        @collection.on 'add', @renderOne\n        @views = []\n\n    add: (views, options = {}) ->\n        views = if _.isArray views then views.slice() else [views]\n        for view in views\n            if view? and not @get view.cid\n                @views.push view\n                @trigger 'add', view, @ unless options.silent\n        @\n\n    get: (cid) ->\n        @find((view) -> view.cid is cid) or null\n\n    remove: (views, options = {}) ->\n        if views?\n            views = if _.isArray views then views.slice() else [views]\n            for view in views\n                @destroy view\n                @trigger 'remove', view, @ unless options.silent\n        else\n            console.log \"no view given in parameters of CollectionView.remove()\"\n\n        @\n\n    destroy: (view = @, options = {}) ->\n        _views = (@filter (_view) -> view.cid isnt _view.cid)\n        view.undelegateEvents()\n        view.$el.removeData().unbind()\n        view.remove()\n        Backbone.View::remove.call view\n        @trigger 'remove', view, @ unless options.silent\n        @\n\n    reset: (views, options = {}) ->\n        views = if _.isArray views then views.slice() else [views]\n        @destroy view, options for view in @views\n        if views.length isnt 0\n            @add view, options for view in views\n            @trigger 'reset', view, @ unless options.silent\n        @\n\n    renderOne: (model, options) =>\n        view = new @view model\n        if options?.prepend\n            @$el.prepend view.render().el\n        else\n            @$el.append view.render().el\n        @add view\n        @\n\n    renderAll: =>\n        @collection.each @renderOne\n        @\n\n# Underscore methods that we want to implement on the Collection.\nmethods = ['forEach', 'each', 'map', 'reduce', 'reduceRight', 'find',\n    'detect', 'filter', 'select', 'reject', 'every', 'all', 'some', 'any',\n    'include', 'contains', 'invoke', 'max', 'min', 'sortBy', 'sortedIndex',\n    'toArray', 'size', 'first', 'initial', 'rest', 'last', 'without', 'indexOf',\n    'shuffle', 'lastIndexOf', 'isEmpty', 'groupBy']\n\n# Mix in each Underscore method as a proxy to `ViewCollection#views`.\n_.each methods, (method) ->\n    ViewCollection::[method] = ->\n        _[method].apply _, [@views].concat(_.toArray arguments)\n\nmodule.exports = ViewCollection\n","## Model for a single Activity\nmodule.exports = class Activity extends Backbone.Model\n\n    urlRoot: '/activities/all/'\n    idAttribute: '_id'\n\n    defaults:\n        \"tags\": [\"all\"]\n\n    constructor: (activity) ->\n        super activity\n\n        @set 'errorAmount', activity.errors.length if activity.errors.length\n","Model = require '../lib/model'\n\nmodule.exports = class CommonModel extends Model\n    urlRoot: \"commons/all/\"\n    idAttribute: '_id'\n\n    constructor: (common) ->\n        super common\n\n        if @get('path')?\n            path = @get('path')\n        else\n            path = @get('_id') + '.jpg'\n\n        @set 'url', \"/commons/#{common._id}/#{path}\"\n        @set 'prevUrl', \"/commons/#{common._id}/prev_#{path}\"\n","Model = require 'lib/model'\nrequest = require 'lib/request'\n\nmodule.exports = class ContactModel extends Model\n\n    urlRoot: 'contacts/'\n    idAttribute: 'slug'\n\n    initialize: ->\n        @set \"name\", @get 'url' unless @get(\"name\")?\n\n    retry: (callback) ->\n        data = slug: @get \"slug\"\n        request.post \"/contacts/#{@get(\"slug\")}/retry/\", data, (err, contact) =>\n            @set 'state', 'Pending' unless err\n            err = error: true if contact.state is 'Error'\n            callback err\n\n    accept: (callback) ->\n        @save state: 'Trusted',\n            success: =>\n                @set 'state', 'Trusted'\n                callback()\n            error: =>\n                @set 'state', 'Error'\n                callback error: true\n","Model = require 'lib/model'\nrequest = require 'lib/request'\n\nmodule.exports = class Micropost extends Model\n\n    urlRoot: '/microposts/all/'\n    idAttribute: '_id'\n\n    defaults:\n        \"tags\": [\"all\"]\n\n    downloadPicture: (pictureId, callback) ->\n       request.get \"/pictures/#{pictureId}/download/\", callback\n\n    downloadCommon: (commonId, callback) ->\n       request.get \"/commons/#{commonId}/download/\", callback\n","Model = require '../lib/model'\n\nmodule.exports = class NoteModel extends Model\n    urlRoot: \"notes/all/\"\n    idAttribute: '_id'\n","request = require 'lib/request'\nModel = require 'lib/model'\n\n# Model for newebe owner\nmodule.exports = class Owner extends Model\n\n    url: '/user/'\n\n    # Owner is never new.\n    isNew: -> false\n\n    newSesame: (sesame, callback) ->\n        request.put \"/user/password/\", password: sesame, callback\n","Model = require '../lib/model'\n\nmodule.exports = class PictureModel extends Model\n    urlRoot: \"pictures/all/\"\n    idAttribute: '_id'\n\n    constructor: (picture) ->\n        super picture\n\n        if @get('path')?\n            path = @get('path')\n        else\n            path = @get('_id') + '.jpg'\n\n        @set 'url', \"/pictures/#{picture._id}/#{path}\"\n        @set 'prevUrl', \"/pictures/#{picture._id}/prev_#{path}\"\n","Model = require 'lib/model'\n\nmodule.exports = class TagModel extends Model\n    urlRoot: 'contacts/tags/'\n    idAttribute: '_id'\n","module.exports = class AppRouter extends Backbone.Router\n\n    routes:\n        '': 'start'\n        'microposts': 'microposts'\n        'pictures': 'pictures'\n        'commons': 'commons'\n        'notes': 'notes'\n        'contacts': 'contacts'\n        'profile': 'profile'\n        'activities': 'activities'\n\n\n    constructor: (@appView) ->\n        super()\n\n    start: -> @appView.checkUserState()\n\n    microposts: ->\n        @checkAppViewState =>\n            @appView.changeSubView @appView.micropostsView\n\n    notes: ->\n        @checkAppViewState =>\n            @appView.changeSubView @appView.notesView\n\n    contacts: ->\n        @checkAppViewState =>\n            @appView.changeSubView @appView.contactsView\n\n    pictures: ->\n        @checkAppViewState =>\n            @appView.changeSubView @appView.picturesView\n\n    commons: ->\n        @checkAppViewState =>\n            @appView.changeSubView @appView.commonsView\n\n    profile: ->\n        @checkAppViewState =>\n            @appView.changeSubView @appView.profileView\n\n    activities: ->\n        @checkAppViewState =>\n            @appView.changeSubView @appView.activitiesView\n\n    checkAppViewState: (callback) =>\n        if @appView.isLoaded\n            callback()\n        else\n            @appView.checkUserState =>\n                @appView.displayMenu()\n                callback()\n","View = require '../lib/view'\nActivity = require '../models/activity'\nActivityListView = require '../views/activity_list_view'\nrequest = require '../lib/request'\n\nmodule.exports = class ActivitiesView extends View\n    id: 'activities-view'\n    className: 'pa1'\n\n    template: ->\n        require './templates/activities'\n\n    events:\n        \"click #sync-activities-button\": \"onSyncClicked\"\n        \"click #more-activities-button\": \"loadMoreActivities\"\n\n    afterRender: ->\n        @activityList = new ActivityListView el: @$ \"#activity-all\"\n        @isLoaded = false\n\n    fetch: ->\n        @activityList.collection.fetch\n            success: =>\n            error: =>\n                alert 'A server error occured while retrieving news feed'\n\n    loadMoreActivities: =>\n        @activityList.loadMore()\n\n\n    # When sync button is clicked, the sync service is called, then user is\n    # notified that sync process started.\n    onSyncClicked: (event) ->\n        $(\"#sync-activities-button\").spin()\n        request.get \"/synchronize/\", (err) ->\n            $(\"#sync-activities-button\").spin()\n            if err\n                alert \"Synchronize process failed.\"\n            else\n                alert \"\"\"\nSynchronization process started, check back your data in a few minutes.\n    \"\"\"\n","CollectionView = require '../lib/view_collection'\nActivityCollection = require '../collections/activity_collection'\nActivityView = require '../views/activity_view'\nActivity = require '../models/activity'\n\nmodule.exports = class ActivityListView extends CollectionView\n    collection: new ActivityCollection()\n    view: ActivityView\n\n    template: ->\n        require('./templates/activity_list')\n\n    afterRender: ->\n        @$el.addClass 'activity-list mod left w100'\n\n    loadMore: ->\n        $(\"#more-activities-button\").spin 'small'\n        collection = new ActivityCollection()\n        collection.url = @collection.baseUrl + @getLastDate()\n        collection.fetch\n            success: (activities) =>\n                activities.models.slice()\n                @renderOne activity for activity in activities.models\n                @setLastDate collection\n                $(\"#more-activities-button\").spin()\n                if activities.length < 30\n                    $(\"#more-activities-button\").hide()\n\n            error: =>\n                alert 'server error occured'\n\n    setLastDate: (collection) ->\n        activity = collection.last()\n        if activity?\n            lastDate = moment activity.get 'date'\n            @lastDate = lastDate.utc().format('YYYY-MM-DD-HH-mm-SS') + '/'\n        else\n            @lastDate = ''\n\n    getLastDate: ->\n        if @lastDate?\n            @lastDate\n        else\n            @setLastDate @collection\n            @getLastDate()\n","View = require '../lib/view'\nRenderer = require '../lib/renderer'\nMicroPost = require '../models/micropost'\n\nmodule.exports = class ActivityView extends View\n    className: 'activity pl0'\n\n    template: ->\n        require './templates/activity'\n\n    events:\n        'click': 'onClicked'\n        \"click .activity-error-number\": \"onErrorNumberClicked\"\n        \"click .activity-error-resend\": \"onErrorResendClicked\"\n\n    constructor: (@model) ->\n        super()\n\n    getRenderData: ->\n        renderer = new Renderer()\n        @model.set 'displayDate', renderer.renderDate @model.get 'date'\n        model: @model?.toJSON()\n\n    onClicked: ->\n        $('.activity').removeClass 'selected'\n        @$el.addClass 'selected'\n\n\n    # When user click on number of errors, it displayed the list of errorfs\n    # inside the activity line.\n    onErrorNumberClicked: (event) ->\n        @$(\".activity-errors\").show()\n\n    # When error resend button is clicked it requests server to resend data\n    # to the contact. If it it succeeds it marks the error as solved else\n    # it displays an error message.\n    onErrorResendClicked: (event) ->\n        extra = \"\"\n        for error in @model.get 'errors'\n            if error.contactKey and error.contactKey is event.target.id\n                extra = error.extra\n\n        switch @model.get 'method'\n            when \"POST\"\n                @sendRetryRequest(\"POST\",\n                    \"/microposts/\" + @model.get('docId') + \"/retry/\",\n                    event)\n\n\n            when \"DELETE\"\n                @sendRetryRequest(\"PUT\",\n                    \"/microposts/\" + @model.get('docId') + \"/retry/\",\n                    event,\n                    extra)\n\n    # Requests server to resend data to the contact.\n    # If it it succeeds it marks the error as solved else it displays an error\n    # message.\n    #\n    # Arguments :\n    # * type is the request method (POST, PUT...).\n    # * path is the path where request must be sent.\n    # * event is the event which causes the retry.\n    # * extra are the extra data needed.\n    sendRetryRequest: (type, path, event, extra) ->\n        $(event.target).html \"resending...\"\n        $.ajax\n            type: type\n            url: path\n            data: '{\"contactId\": \"' + event.target.id + \\\n                  '\", \"activityId\":\"' + @model.id + \\\n                  '\", \"extra\":\"' + extra + '\"}'\n            dataType : \"json\"\n            success: (data) =>\n                $(event.target).html(\"resending succeeded.\")\n            error: (data) =>\n                alert \"Sending data failed again.\"\n                $(event.target).html \"resend\"\n","View = require '../lib/view'\nAppRouter = require '../routers/app_router'\nMicropostsView = require './microposts_view'\nContactsView = require './contacts_view'\nNotesView = require './notes_view'\nPicturesView = require './pictures_view'\nCommonsView = require './commons_view'\nProfileView = require './profile_view'\nActivitiesView = require './activities_view'\nLoginView = require './login_view'\nRegisterNameView = require './register_name_view'\nRegisterPasswordView = require './register_password_view'\n\nrequest = require 'lib/request'\n\n# Main application view, that's here where we manage all other views.\n# It handles the navigation menu too.\nmodule.exports = class AppView extends View\n    el: 'body.application'\n\n    template: ->\n        require('./templates/home')\n\n    events:\n        'click #logout-button': 'onLogoutClicked'\n        'click #responsive-menu': 'onResponsiveMenuClicked'\n\n    # Depending on user state given by backend, it displays corresponding page.\n    # State is described by following parameters :\n    # * authenticated : if user is logged in or not.\n    # * registered: if user is registered or not.\n    # * password: if  user registered his password or not.\n    checkUserState: (callback) ->\n        request.get 'user/state/', (err, data) =>\n            if err\n                alert \"Something went wrong, can't load newebe data.\"\n            else\n                @start data, callback\n\n    # Transmit logout user request to backend.\n    onLogoutClicked: (event) ->\n        request.get 'logout/', (err, data) =>\n            if err\n                alert \"Something went wrong while logging out\"\n            else\n                Newebe.routers.appRouter.navigate ''\n                @displayLogin()\n\n    onResponsiveMenuClicked: ->\n        @$('#navigation ul').slideToggle()\n\n\n    # Display a page corresponding to user state.\n    start: (userState, callback) ->\n        @home = @$ '#home'\n        @menu = @$ \"#navigation\"\n        @home.html null\n\n        @loginView = @_addView LoginView\n        @registerNameView = @_addView RegisterNameView\n        @registerPasswordView = @_addView RegisterPasswordView\n        @micropostsView = @_addView MicropostsView\n        @picturesView = @_addView PicturesView\n        @commonsView = @_addView CommonsView\n        @contactsView = @_addView ContactsView\n        @profileView = @_addView ProfileView\n        @notesView = @_addView NotesView\n        @activitiesView = @_addView ActivitiesView\n\n        if userState.authenticated and callback? then callback()\n        else if userState.authenticated\n            @displayHome()\n            @micropostsView.fetch()\n        else if userState.password\n            @displayLogin()\n        else if userState.registered\n            @displayRegisterPassword()\n        else\n            @displayRegisterName()\n\n        @isLoaded = true\n\n    onMicropostsClicked: -> @changeSubView @micropostsView\n    onContactsClicked: -> @changeSubView @contactsView\n    onPicturesClicked: -> @changeSubView @picturesView\n    onCommonsClicked: -> @changeSubView @commonsClicked\n    onNotesClicked: -> @changeSubView @notesView\n    displayProfile: => @changeSubView @profileView\n    displayMicroposts: =>\n        @changeSubView @micropostsView\n        @micropostsView.tagList?.fetch()\n\n    displayHome: =>\n        showHome = =>\n            @displayMenu()\n            @displayMicroposts()\n\n        if @currentView? then @currentView.fadeOut showHome\n        else showHome()\n\n    displayMenu: =>\n        @menu.removeClass 'hidden'\n        @menu.fadeIn()\n\n    displayRegisterPassword: => @changeView @registerPasswordView\n    displayRegisterName: => @changeView @registerNameView\n    displayLogin: =>\n        @loginView.clearField()\n        @changeView @loginView\n\n    displayView: (view) =>\n        showView = =>\n            view.fetch() if view.fetch?\n            @changeView view, =>\n                @menu.removeClass 'hidden'\n                @menu.fadeIn()\n\n        if @isLoaded then displayView()\n        else @checkUserState showView\n\n    changeSubView: (subView, callback) =>\n        if $(window).width() < 760\n            @$('#navigation ul').slideUp()\n        @changeMenuState subView\n        if @currentSubView?\n            @currentSubView.fadeOut =>\n                @currentSubView = null\n                @changeSubView subView, callback\n        else\n            subView.fadeIn()\n            @currentSubView = subView\n            if not @currentSubView.isLoaded and @currentSubView.fetch?\n                @currentSubView.fetch()\n            callback() if callback?\n\n    # Little function to change current view in a smooth way by using fade in\n    # and out effects.\n    changeView: (view, callback) =>\n        @currentView = view\n        @menu.fadeOut()\n        @home.children().fadeOut =>\n            @home.hide()\n            view.$el.show()\n            @home.fadeIn =>\n                view.focusField() if view.focusField?\n            callback() if callback?\n\n    _addView: (viewClass) =>\n        view = new viewClass()\n        view.hide()\n        @home.append view.el\n        view\n\n    # Display corresponding menu button as selected for a given view.\n    changeMenuState: (view) =>\n        @$(\"#navigation\").find(\"a\").removeClass \"active\"\n        if view is @micropostsView\n            @$(\"#microposts-button\").addClass \"active\"\n            @$(\"#responsive-menu a\").html 'news'\n        else if view is @contactsView\n            @$(\"#contacts-button\").addClass \"active\"\n            @$(\"#responsive-menu a\").html 'contacts'\n        else if view is @profileView\n            @$(\"#profile-button\").addClass \"active\"\n            @$(\"#responsive-menu a\").html 'profile'\n        else if view is @notesView\n            @$(\"#notes-button\").addClass \"active\"\n            @$(\"#responsive-menu a\").html 'notes'\n        else if view is @picturesView\n            @$(\"#pictures-button\").addClass \"active\"\n            @$(\"#responsive-menu a\").html 'pictures'\n        else if view is @commonsView\n            @$(\"#commons-button\").addClass \"active\"\n            @$(\"#responsive-menu a\").html 'commons'\n","View = require '../lib/view'\nRenderer = require '../lib/renderer'\n\nmodule.exports = class CommonView extends View\n    className: 'common pa1'\n    template: -> require './templates/common'\n\n    events:\n        'click': 'onClicked'\n        'click .common-delete-button': 'onDeleteClicked'\n\n    onClicked: ->\n        $('.common').unselect()\n        $('.common-buttons').hide()\n        @$el.select()\n        @buttons.show()\n\n\n    onDeleteClicked: ->\n        @model.urlRoot = 'commons/'\n        @model.destroy\n            success: => @remove()\n            error: => alert 'server error occured'\n\n    constructor: (@model) -> super()\n\n    afterRender: ->\n        @buttons = @$ '.common-buttons'\n        @buttons.hide()\n\n    getRenderData: ->\n        renderer = new Renderer()\n        @model.set 'displayDate', renderer.renderDate @model.get 'date'\n        model: @model?.toJSON()\n","CollectionView = require '../lib/view_collection'\nCommonView = require './common'\nCommonsCollection = require '../collections/commons'\nNoteView = require './note'\n\nmodule.exports = class CommonsView extends CollectionView\n    el: '#commons'\n\n    collection: new CommonsCollection()\n    view: CommonView\n\n    template: ->\n        require './templates/commons'\n\n    constructor: (collection) ->\n        super\n        @rendered = 0\n\n    afterRender: ->\n\n    fetch: ->\n        @collection.off 'add'\n        @collection.fetch\n            success: (commons) =>\n                @renderAll commons.models\n\n    renderAll: (models) ->\n        @renderOne model for model in models\n        @\n\n\n    loadMore: ->\n        $(\"#more-commons\").spin 'small'\n        collection = new CommonsCollection()\n        collection.url = @collection.url + @getLastDate()\n        collection.fetch\n            success: (commons) =>\n                console.log commons\n\n                @renderAll commons.models\n                @setLastDate collection\n                $(\"#more-commons\").spin()\n                if commons.length < 12\n                    $(\"#more-commons\").hide()\n\n            error: =>\n                alert 'server error occured'\n\n    setLastDate: (collection) ->\n        common = collection.last()\n        if common?\n            lastDate = moment common.get 'date'\n            @lastDate = lastDate.utc().format('YYYY-MM-DD-HH-mm-SS') + '/'\n        else\n            @lastDate = ''\n\n    getLastDate: ->\n        if @lastDate?\n            @lastDate\n        else\n            @setLastDate @collection\n            @getLastDate()\n","View = require '../lib/view'\nCommonsView = require './commons'\nCommon = require '../models/common'\n\nmodule.exports = class CommonsMainView extends View\n    id: 'commons-view'\n\n    events:\n        \"click #more-commons\": \"loadMoreCommons\"\n\n    template: ->\n        require './templates/commons_view'\n\n    afterRender: ->\n\n    fetch: ->\n        @commonsView ?= new CommonsView()\n        @commonsView.fetch()\n        @isLoaded = true\n\n    loadMoreCommons: =>\n        @commonsView.loadMore()\n","View = require 'lib/view'\n\nmodule.exports = class ContactView extends View\n    className: 'contact-line clearfix'\n    rootUrl: 'contacts/'\n\n    events:\n        'click .contact-delete-button': 'onDeleteClicked'\n        'click .contact-retry-button': 'onRetryClicked'\n        'click .contact-accept-button': 'onAcceptClicked'\n\n    constructor: (@model) ->\n        super()\n\n    template: -> require './templates/contact'\n\n    getRenderData: ->\n        model: @model?.toJSON()\n\n    afterRender: ->\n        if @model.get('state') isnt 'Error'\n            @$('.contact-retry-button').hide()\n        if @model.get('state') isnt 'Wait for approval'\n            @$('.contact-accept-button').hide()\n\n    onDeleteClicked: ->\n        button = @$('.contact-delete-button')\n        button.spin 'small'\n        @model.destroy\n            success: =>\n                @remove()\n            error: =>\n                button.spin()\n                alert 'An error occured while deleting contact'\n\n    onRetryClicked: ->\n        button = @$('.contact-retry-button')\n        button.spin 'small'\n        @model.retry (err) =>\n            button.spin()\n            if err\n                alert 'Contact request failed again.'\n            else\n                @$('.state').html 'Pending'\n\n    onAcceptClicked: ->\n        button = @$('.contact-accept-button')\n        button.spin 'small'\n        @model.accept (err) =>\n            button.spin()\n            if err\n                alert 'Contact approval failed.'\n                @$('.state').html 'Error'\n                @$('.contact-retry-button').show()\n            else\n                @$('.state').html 'Trusted'\n\n    addTag: (tag) ->\n        name = tag.get 'name'\n        if name isnt \"all\"\n            @$('.contact-tags').append \"<button class=\\\"tag-#{name} contact-tag toggle-button\\\">#{tag.get \"name\"}</button>\"\n            tagView = @$el.find(\".contact-tag\").last()\n\n            if tag.get(\"name\") in @model.get \"tags\"\n                tagView.addClass \"selected\"\n                @$el.addClass \"filter-#{name}\"\n\n            tagView.click =>\n                tags = @model.get \"tags\"\n                if tag.get(\"name\") in @model.get \"tags\"\n                    tagView.removeClass \"selected\"\n                    tags = _.without(tags, tag.get \"name\")\n                    @model.set \"tags\", tags\n                else\n                    @model.get(\"tags\").push(tag.get \"name\")\n                    tagView.addClass \"selected\"\n                @model.save()\n","CollectionView = require '../lib/view_collection'\nContacts = require '../collections/contacts'\nContact = require '../models/contact'\nContactView = require './contact_view'\nTagsView = require './tags_view'\n\nrequest = require 'lib/request'\n\nmodule.exports = class ContactsView extends CollectionView\n    id: 'contacts-view'\n\n    collection: new Contacts()\n    view: ContactView\n\n    events:\n        'click #add-contact-button': 'onAddContactClicked'\n\n    subscriptions:\n        'tag:selected': 'onTagSelected'\n\n    template: ->\n        require './templates/contacts'\n\n    afterRender: ->\n        @isLoaded = false\n        @newContactInput = @$ '#new-contact-field'\n        @addContactButton = @$ '#add-contact-button'\n\n        @configureRealTime()\n\n    configureRealTime: ->\n        protocol = \"\"\n        if window.location.protocol is 'http:'\n            protocol = 'ws'\n        else if window.location.protocol is 'https:'\n            protocol = 'wss'\n        host = window.location.host\n        path = \"#{protocol}://#{host}/contacts/publisher/\"\n\n        @ws = new WebSocket path\n        @ws.onmessage = (evt) =>\n\n            # update contact list with new informations\n            contact = new Contact JSON.parse evt.data\n            previousContact = @collection.findWhere '_id': contact.get '_id'\n\n            if previousContact?\n                for view in @views\n                    if view.model.cid is previousContact.cid\n                        contactView = view\n                if contactView?\n                    @collection.remove previousContact\n                    @destroy contactView\n                    @renderOne contact, prepend: true\n            else\n                @renderOne contact\n\n    isValidUrl: (string) ->\n        regexp = /(http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/g\n        isValid = string.match(regexp) isnt null\n        isValid\n\n    checkUrl: (contactUrl) ->\n        if contactUrl.indexOf('/', contactUrl.length - 1) is -1\n            contactUrl += '/'\n\n        if @collection.containsContact contactUrl\n            @$('.error').html 'Contact is already in your list'\n            false\n\n        else if not @isValidUrl contactUrl\n            @$('.error').html \"\"\"\n            Wrong URL, URL should look like https://newebe.mydomain.net/ or\n            like https://87.123.21.13:12000/.\n            \"\"\"\n            false\n\n        else\n            true\n\n    onAddContactClicked: =>\n        contactUrl = @newContactInput.val()\n        data = url: contactUrl\n        button = $(\"#add-contact-button\")\n\n        if @checkUrl contactUrl\n            @$('.error').html \"\"\n\n            button.spin 'small'\n            @collection.create data,\n                success: (model) =>\n                    button.spin()\n                    model.set 'name', model.get 'url'\n                    @renderOne model\n                    @newContactInput.val null\n                    @newContactInput.focus()\n                error: =>\n                    button.spin()\n                    alert 'Something went wrong while adding contact'\n                silent: true\n\n    renderOne: (model) =>\n        view = new @view model\n        @$el.append view.render().el\n        @add view\n\n        if model.get(\"state\") is \"Trusted\"\n            for tag in @tagsView.collection.toArray()\n                view.addTag tag\n        @\n\n    fetch: ->\n        @$('.contact').remove()\n        unless @tagsView?\n            @tagsView = new TagsView el: '#tag-list'\n            @tagsView.contactsView = @\n        @tagsView.$el.spin 'small'\n        @tagsView.fetch\n            success: =>\n                @tagsView.$el.spin()\n                @$el.spin 'small'\n                @collection.fetch\n                    success: =>\n                        @$el.spin()\n                    error: =>\n                        @$el.spin()\n\n            error: =>\n                alert \"an error occured\"\n        @isLoaded = true\n\n    onTagSelected: (name) ->\n        if @tagsView?\n            @tagsView.select name\n        if name is 'all' then @$('.contact-line').show()\n        else\n            @$('.contact-line').hide()\n            @$(\".filter-#{name}\").show()\n\n    onTagDeleted: (name) ->\n        @$(\".contact-line\").removeClass \"tag-#{name}\"\n        @$(\".tag-#{name}\").remove()\n\n    onTagAdded: (tag) =>\n        for view in @views when view.model.get('state') is 'Trusted'\n            view.addTag tag\n","CollectionView = require '../lib/view_collection'\nTagView = require './tag_view'\nTagAllView = require './tag_all_view'\nTags = require '../collections/tags'\nstringUtils = require '../lib/string'\n\n\nmodule.exports = class FilterTagsView extends CollectionView\n    el: '.filter-tag-list'\n\n    collection: new Tags()\n    view: TagView\n\n    template: ->\n        require './templates/filter_tags'\n\n    fetch: (callbacks) ->\n        @remove(@views) if @views.length > 0\n        @collection.fetch callbacks\n","QuestionView = require './question_view'\n\nmodule.exports = class LoginView extends QuestionView\n    id: 'login-view'\n\n    initialize: ->\n        @question = \"What is your sesame ?\"\n        @fieldId = \"login-password\"\n        @type = \"password\"\n        @fieldName = \"password\"\n        @submitPath = 'login/json/'\n        @render()\n\n    onServerResponse: (err, data) =>\n        if err then @field.val null\n        else\n            @field.animate {boxShadow: '0'}, =>\n                Newebe.views.appView.displayHome()\n","CollectionView = require '../lib/view_collection'\nMicropostCollection = require '../collections/micropost_collection'\nMicropostView = require '../views/micropost_view'\nMicropost = require '../models/micropost'\n\nmodule.exports = class MicropostListView extends CollectionView\n    collection: new MicropostCollection()\n    view: MicropostView\n\n    template: ->\n        require './templates/micropost_list'\n\n    afterRender: ->\n        @$el.addClass 'micropost-list mod left w100'\n\n    prependMicropost: (micropost) =>\n        @renderOne micropost, prepend: true\n\n    loadTag: (tag) ->\n        @tag = tag\n        lastDate = moment()\n        date = lastDate.format 'YYYY-MM-DD-HH-mm-ss/'\n        @remove @views, silent: true\n        @collection.reset()\n        @views = []\n\n        if tag isnt 'all'\n            @collection.url = @collection.baseUrl + date\n            @collection.url += \"tags/#{@tag}/\"\n        else\n            @collection.url = @collection.baseUrl\n\n        @$el.spin 'small'\n        @$el.css 'height', '50px'\n        @collection.fetch\n            success: (microposts) =>\n                @$el.spin()\n                @$el.css 'height', 'auto'\n                if @views.length is 0\n                    @renderOne micropost for micropost in microposts.models\n            error: =>\n                @$el.$el.spin()\n                alert 'A server error occured while retrieving news feed'\n\n    loadMore: (callback) ->\n        collection = new MicropostCollection()\n        collection.url = @collection.baseUrl + @getLastDate()\n        collection.url += \"tags/#{@tag}/\" if @tag?\n        collection.fetch\n            success: (microposts) =>\n                if microposts.size() < 11\n                    Backbone.Mediator.publish 'posts:no-more', true\n                for micropost in microposts.models\n                    @renderOne micropost\n                @setLastDate collection\n                callback()\n            error: =>\n                alert 'server error occured'\n                callback()\n\n    setLastDate: (collection) ->\n        activity = collection.last()\n        if activity?\n            lastDate = moment activity.get 'date'\n            @lastDate = lastDate.utc().format('YYYY-MM-DD-HH-mm-SS') + '/'\n        else\n            @lastDate = ''\n\n    getLastDate: ->\n        if @lastDate?\n            @lastDate\n        else\n            @setLastDate @collection\n            @getLastDate()\n\n    search: (query, callback) ->\n        $.ajax\n            url: \"microposts/search/\"\n            type: 'POST'\n            data: '{\"query\": \"' + query + '\"}'\n            dataType: \"json\"\n            success: (data) =>\n                @collection.reset data.rows\n                @reset()\n                for micropost in @collection.models\n                    @renderOne micropost\n                callback()\n            error: (data) =>\n                alert 'error occured while fetching search results'\n                callback()\n","View = require '../lib/view'\nRenderer = require '../lib/renderer'\nMicroPost = require '../models/micropost'\nNoteSelector = require './note_selector'\nrequest = require '../lib/request'\n\nmodule.exports = class MicropostView extends View\n    className: 'micropost pt1 pb1 pl1 line'\n\n    template: ->\n        require './templates/micropost'\n\n    events:\n        'click': 'onClicked'\n        'click .micropost-delete-button': 'onDeleteClicked'\n        'click .micropost-save-to-note-button': 'onSaveToNoteClicked'\n\n    constructor: (@model) ->\n        super()\n\n    afterRender: ->\n        @buttons = @$ '.micropost-buttons'\n\n        @downloadButton = @$ '.download-picture-btn'\n        pictureId = @model.get('pictures_to_download')?[0]\n\n        @downloadRunning = false\n        @downloadButton.click =>\n            unless @downloadRunning\n                @downloadRunning = true\n                @model.downloadPicture pictureId, (err) =>\n                    if err\n                        alert 'Picture cannot be loaded'\n                    else\n                        @hideDlBtnAndDisplayPicture pictureId\n\n        @downloadButton = @$ '.download-common-btn'\n        commonId = @model.get('commons_to_download')?[0]\n        @downloadButton.click =>\n            unless @downloadRunning\n                @downloadRunning = true\n                @model.downloadCommon commonId, (err) =>\n                    if err\n                        alert 'Common cannot be loaded'\n                    else\n                        @hideDlBtnAndDisplayCommon commonId\n\n\n    hideDlBtnAndDisplayPicture: (pictureId) =>\n        @downloadButton = @$ '.download-picture-btn'\n\n        @downloadButton.prev().fadeOut()\n        @downloadButton.fadeOut =>\n            @downloadButton.after \"\"\"\n<a href=\"pictures/#{pictureId}/#{pictureId}.jpg\">\n<img class=\"post-picture\" src=\"pictures/#{pictureId}/prev_#{pictureId}.jpg\" />\n</a>\n\"\"\"\n            @downloadRunning = false\n\n    hideDlBtnAndDisplayCommon: (commonId) =>\n        @downloadButton.prev().fadeOut()\n        @downloadButton.fadeOut =>\n            @downloadRunning = false\n            request.get \"/commons/#{commonId}/\", (err, commonRows) =>\n                common = commonRows.rows[0]\n                @downloadButton.after \"\"\"\n    <a href=\"commons/#{commonId}/#{common.path}\">\n    #{common.path}\n    </a>\n    \"\"\"\n\n    getRenderData: ->\n        renderer = new Renderer()\n        @model.set 'displayContent', renderer.renderDoc @model\n        @model.set 'displayDate', renderer.renderDate @model.get 'date'\n        model: @model?.toJSON()\n\n    onClicked: ->\n        $('.micropost').removeClass 'selected'\n        $('.micropost-buttons').hide()\n\n        commons = @model.get 'commons'\n        @$el.select()\n        @buttons.show()\n\n    onDeleteClicked: ->\n        @model.url = \"microposts/#{@model.id}/\"\n        button = @$(\".micropost-delete-button\")\n        button.spin 'small'\n        @model.destroy\n            success: => @remove()\n            error: =>\n                button.spin()\n                alert 'server error occured, the micropost cannot be deleted.'\n\n    onSaveToNoteClicked: ->\n        NoteSelector.getDialog().show @model\n","View = require '../lib/view'\nMicroPost = require '../models/micropost'\nMicropostListView = require '../views/micropost_list_view'\nSimpleTagList = require '../views/simple_tag_list'\n\nmodule.exports = class MicropostsView extends View\n    id: 'microposts-view'\n    className: 'pa1'\n\n    template: ->\n        require './templates/microposts'\n\n    events:\n        \"keyup #micropost-field\": \"onMicropostFieldKeyup\"\n        \"keydown #micropost-field\": \"onMicropostFieldKeydown\"\n        \"click #micropost-post-button\": \"createNewPost\"\n        \"click #more-microposts-button\": \"loadMoreMicroposts\"\n        \"click #add-attachment\": \"onAddAttachmentClicked\"\n        \"keyup #microposts-search\": \"onSearchKeyUp\"\n\n    subscriptions:\n        'tag:selected': 'onTagSelected'\n        'posts:no-more': 'onNoMorePost'\n\n    afterRender: ->\n        @micropostList = new MicropostListView el: @$ \"#micropost-all\"\n        @isLoaded = false\n        @micropostField = @$ \"#micropost-field\"\n        @micropostButton = @$ \"#micropost-post-button\"\n        setTimeout =>\n            @tagList = new SimpleTagList '#micropost-tag-list'\n            @tagList.fetch success: => @tagList.select 'all'\n            @configureUpload()\n            @$(\"#micropost-field\").focus()\n        , 200\n        @configurePublisherSubscription()\n        @isSearchRunning = false\n\n    configurePublisherSubscription: ->\n\n        protocol = \"\"\n        if window.location.protocol is 'http:'\n            protocol = 'ws'\n        else if window.location.protocol is 'https:'\n            protocol = 'wss'\n        host = window.location.host\n        path = \"#{protocol}://#{host}/microposts/publisher/\"\n\n        @ws = new WebSocket path\n        @ws.onmessage = (evt) =>\n            micropost = new MicroPost JSON.parse evt.data\n            @micropostList.prependMicropost micropost\n\n    configureUpload: ->\n        input = document.getElementById 'attach-picture'\n        previewNode = document.getElementById 'preview-list'\n\n        FileAPI.event.on input, 'change', (evt) =>\n            files = FileAPI.getFiles(evt)\n\n            callback1 = (file, info) =>\n                true\n\n            FileAPI.filterFiles files, callback1, (fileList, ignor) =>\n                unless fileList.length\n                    alert 'No file selected, no upload possible'\n                    return 0\n\n                imageList = FileAPI.filter fileList, (file) =>\n                     return /image/.test(file.type)\n\n                fileList = FileAPI.filter fileList, (file) =>\n                     return not /image/.test(file.type)\n\n                @$(\".js-fileapi-wrapper input\").fadeOut()\n                FileAPI.each imageList, (imageFile) =>\n                    FileAPI.Image(imageFile)\n                        .preview(100, 120)\n                        .get (err, image) =>\n                            if err then alert err\n                            else\n                                previewNode.appendChild(image)\n\n                FileAPI.each fileList, (file) =>\n                    $(previewNode).append \"<p>#{file.name}</p>\"\n\n                @attachedImages = imageList\n                @attachedFiles = fileList\n\n    fetch: ->\n        @$(\".tag-all .tag-select-button\").addClass 'selected'\n        @micropostList.loadTag 'all'\n\n    onAddAttachmentClicked: (event) ->\n        $(event.target).fadeOut =>\n            @$(\".js-fileapi-wrapper input\").show()\n            @$(\".js-fileapi-wrapper\").fadeIn()\n\n    # The two followings function are here to support the ctrl+enter combo\n    # that sends the post to the newebe server.\n    onMicropostFieldKeydown: (event) =>\n        if event.keyCode is 17 then @isCtrl = true\n\n    onMicropostFieldKeyup: (event) =>\n        keyCode = if event.which then event.which else event.keyCode\n\n        if event.keyCode is 17 then @isCtrl = false\n        else if keyCode is 13 and @isCtrl then @createNewPost()\n\n    createNewPost: =>\n        content = @micropostField.val()\n\n        attachmentButton = @$(\"#add-attachment\")\n        previewList = @$('#preview-list')\n\n        if content?.length isnt 0\n            @micropostButton.spin 'small'\n            @micropostField.disable()\n\n            postMicropost = (pictureId, fileId) =>\n                micropost = new MicroPost()\n                if pictureId? then micropost.set 'pictures', [pictureId]\n                else micropost.set 'pictures', []\n                if fileId? then micropost.set 'commons', [fileId]\n                else micropost.set 'commons', []\n                content = @checkLink content\n                micropost.set 'tags', [@tagList.selectedTag]\n                micropost.save 'content', content,\n                    success: =>\n                        @micropostButton.spin()\n                        @micropostList.prependMicropost micropost\n                        @micropostField.val null\n                    error: =>\n                        @micropostButton.spin()\n                    complete: =>\n                        @micropostField.enable()\n                        attachmentButton.fadeIn()\n                        previewList.fadeOut()\n                        previewList.html null\n                        previewList.fadeIn()\n                        $('#attach-picture').val null\n\n            if @attachedImages?.length > 0\n                xhr = FileAPI.upload\n                    url: '/pictures/all/'\n                    files:\n                        picture: @attachedImages[0]\n                    complete: (err, xhr) ->\n                        if err then alert 'upload failed'\n                        picture = JSON.parse xhr.response\n                        @attachedImages = null\n                        postMicropost picture._id\n\n            else if @attachedFiles?.length > 0\n                xhr = FileAPI.upload\n                    url: '/commons/all/'\n                    files:\n                        common: @attachedFiles[0]\n                    complete: (err, xhr) ->\n                        if err then alert 'upload failed'\n                        file = JSON.parse xhr.response\n                        @attachedFiles = null\n                        postMicropost null, file._id\n\n            else\n                postMicropost()\n\n    checkLink: (content) ->\n        regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/g\n        urls = content.match regexp\n        if urls\n             for url in urls\n                 urlIndex = content.indexOf(url)\n                 if urlIndex is 0\n                     content = content.replace url, \"[#{url}](#{url})\"\n                 else\n                    previousChar = content.charAt(urlIndex - 1)\n                    if previousChar isnt '(' and previousChar isnt \"[\"\n                        content = content.replace url, \"[#{url}](#{url})\"\n        content\n\n    onTagSelected: (name) ->\n        @tagsView.$(\".tag-select-button\").unSelect() if @tagsView?\n        @tagList.select name\n        @$(\"#microposts-search\").val null\n        @micropostList.loadTag name\n\n    loadMoreMicroposts: =>\n        button = $ \"#more-microposts-button\"\n        button.spin 'small'\n        @micropostList.loadMore =>\n            button.spin()\n\n    onNoMorePost: ->\n        @$(\"#more-microposts-button\").hide()\n\n    onSearchKeyUp: (event) =>\n        $(\".tag-select-button\").removeClass 'selected'\n        runSearch = =>\n            @isSearchRunning = true\n            searchVal = $(\"#microposts-search\").val()\n            if searchVal.length is 0\n                @fetch()\n            else\n                @micropostList.search searchVal, =>\n                    @isSearchRunning = false\n                    runSearch() if searchVal isnt $(\"#microposts-search\").val()\n\n            setTimeout =>\n                @isSearchRunning = false\n            , 2000\n\n        runSearch() if @isSearchRunning is false\n","View = require '../lib/view'\nRenderer = require '../lib/renderer'\n\nmodule.exports = class NoteView extends View\n    className: 'note simple-row line ml1 mr1 pt1 pb1'\n\n    events:\n        'click': 'onClicked'\n        'click .note-delete-button': 'onDeleteClicked'\n        'click .note-unselect-button': 'onUnselectClicked'\n        #'click .note-edit-button': 'editableClick'\n        'mousedown .editable': 'editableClick'\n        \"keyup .note-title\": \"onNoteChanged\"\n\n    onClicked: (event) ->\n        unless $(event.target).hasClass 'note-unselect-button'\n            $('.note').unselect()\n            $('.note-buttons').hide()\n            $('.content-note').hide()\n            @$el.select()\n            @buttons.show()\n            @contentField.show()\n\n    onDeleteClicked: ->\n        button = @$('.note-delete-button')\n        button.spin 'small'\n        @model.destroy\n            success: =>\n                button.spin()\n                @remove()\n            error: =>\n                button.spin()\n                alert 'server error occured, note cannot be deleted'\n\n    onNoteChanged: ->\n        @model.save()\n\n    editableClick: etch.editableInit\n\n    template: -> require './templates/note'\n\n    constructor: (@model) ->\n        super()\n\n    afterRender: ->\n        @buttons = @$ '.note-buttons'\n        @buttons.hide()\n        @contentField = @$ '.content-note'\n        @contentField.hide()\n\n        @renderTitle()\n        @renderNote()\n        @bindFields()\n\n    renderTitle: ->\n        renderer = new Renderer()\n        @model.set 'content', 'Empty note' if @model.get('content').length is 0\n        @model.set 'displayDate', renderer.renderDate @model.get 'lastModified'\n\n    renderNote: ->\n        @converter = new Showdown.converter()\n        if @model.get(\"content\").length > 0\n            @contentField.html @converter.makeHtml(@model.get('content'))\n        else\n            @contentField.html \"new note content\"\n\n    bindFields: ->\n        @model.bindField 'title', @$(\".note-title\")\n        @contentField.keyup =>\n            @model.set \"content\", toMarkdown(@contentField.html())\n            @onNoteChanged()\n\n        @model.bind 'save', =>\n            @model.set \"content\", toMarkdown(@contentField.html())\n            @model.save\n\n    getRenderData: ->\n        model: @model?.toJSON()\n\n    emptyTitle: ->\n        @$(\".note-title\").val ''\n\n    focusTitle: ->\n        @$(\".note-title\").focus()\n\n    onUnselectClicked: =>\n        @$el.unselect()\n        @$('.note-buttons').hide()\n        @$('.content-note').hide()\n\n","request = require '../lib/request'\nView = require '../lib/view'\nViewCollection = require '../lib/view_collection'\nNoteCollection = require '../collections/notes'\n\n\n# Line of the selector list.\nclass NoteSelectorLine extends View\n    tag: 'div'\n    className: 'line note-selector-line'\n    template: -> require './templates/note_selector_line'\n\n    events:\n        'click': 'onClick'\n\n    # Mark note as selected when it is clicked. This is for style purpose and\n    # to make it easy to find which note the user selected.\n    onClick: ->\n        $(\".note-selector-line\").removeClass 'selected'\n        @$el.addClass 'selected'\n\n    constructor: (@model) ->\n        super()\n\n\n# List of notes displayed in the selector widget.\nclass NoteSelectorList extends ViewCollection\n    id: \"note-selector-list\"\n    collection: new NoteCollection()\n    view: NoteSelectorLine\n    template: -> require './templates/note_selector_list'\n\n    constructor: ->\n        super()\n        @$el = $(\"##{@id}\")\n\n\n# A widget to select an existing note and push at its end a micropost content.\nclass NoteSelectorWidget extends View\n    id: \"note-selector-widget\"\n    template: -> require './templates/note_selector_widget'\n\n    events:\n        'click .cancel': 'hide'\n\n    constructor: ->\n        super()\n        @$el = $(\"##{@id}\")\n\n    afterRender: ->\n        @noteList = new NoteSelectorList\n        @noteList.render()\n        @noteList.collection.fetch()\n\n        @$('.cancel').click @hide\n        @$('.confirm').click @pushPostToSelectedNote\n\n\n    # Find selected note via the selected class, push the micropost attached\n    # to the dialog then save it.\n    pushPostToSelectedNote: =>\n        for view in @noteList.views\n            if view.$el.hasClass 'selected'\n                @pushToNote view.model.id\n\n    # Add micropost content to note which has given ID.\n    pushToNote: (noteId)  ->\n        @$('.confirm').spin 'small'\n        request.get \"/notes/all/#{noteId}\", (err, note) =>\n            if err then alert \"cannot retrieve note\"\n            else\n                note.content = \"#{note.content}\\n\\n#{@micropost.get 'content'}\"\n\n                request.put \"/notes/all/#{noteId}\", note, (err) =>\n                    if err then alert \"note update failed\"\n                    else\n                        alert \"note successfully updated\"\n                        @$('.confirm').spin()\n                        @hide()\n\n    show: (micropost) ->\n        @micropost = micropost\n        @$el.fadeIn()\n\n    hide: =>\n        @micropost = null\n        @$el.fadeOut()\n\n\nmodule.exports = NoteSelector = class NoteSelector\n\n# Dialog factory, not sure it has sense with JS.\nNoteSelector.getDialog = ->\n    unless @dialog?\n        @dialog = new NoteSelectorWidget()\n        @dialog.render()\n    @dialog\n","CollectionView = require '../lib/view_collection'\nNotesCollection = require '../collections/notes'\nNoteView = require './note'\n\nmodule.exports = class NotesView extends CollectionView\n    el: '#notes'\n\n    collection: new NotesCollection()\n    view: NoteView\n\n    template: ->\n        require './templates/notes'\n\n    afterRender: ->\n\n    fetch: ->\n        @$el.spin 'small'\n        @collection.fetch\n            success: =>\n                @$el.spin()\n            error: =>\n                @$el.spin()\n\n    addNote: (note) ->\n        @collection.url = \"notes/all/\"\n        @collection.create note,\n            silent: true\n            success: (model) =>\n                @renderOne model, prepend: true\n                @last()?.onClicked()\n                @last()?.emptyTitle()\n                @last()?.focusTitle()\n            error: -> alert 'Note creation failed'\n\n    sortByDate: ->\n        @remove @views\n        @collection.reset()\n        @collection.url = \"notes/all/order-by-date/\"\n        @fetch()\n\n    sortByTitle: ->\n        @remove @views\n        @collection.reset()\n        @collection.url = \"notes/all/order-by-title/\"\n        @fetch()\n","View = require '../lib/view'\nNotesView = require './notes'\nNote = require '../models/note'\n\nmodule.exports = class NotesMainView extends View\n    id: 'notes-view'\n\n    events:\n        'click #add-note': 'onAddNoteClicked'\n        'click #sort-date-note': 'onSortDateClicked'\n        'click #sort-title-note': 'onSortTitleClicked'\n\n    template: ->\n        require './templates/notes_view'\n\n    afterRender: ->\n\n    onAddNoteClicked: ->\n        @notesView.addNote new Note title: 'New note', content: ''\n\n    onSortDateClicked: ->\n        @notesView.sortByDate()\n\n    onSortTitleClicked: ->\n        @notesView.sortByTitle()\n\n    fetch: ->\n        @notesView ?= new NotesView()\n        @notesView.fetch()\n        @isLoaded = true\n","View = require '../lib/view'\nRenderer = require '../lib/renderer'\nrequest = require '../lib/request'\n\nmodule.exports = class PictureView extends View\n    className: 'picture pa1 w33 col'\n    template: -> require './templates/picture'\n\n    events:\n        'click': 'onClicked'\n        'click .picture-delete-button': 'onDeleteClicked'\n        'click .picture-rotate-button': 'onRotateClicked'\n\n    onClicked: ->\n        $('.picture').unselect()\n        $('.picture-buttons').hide()\n        @$el.select()\n        @buttons.show()\n\n\n    onDeleteClicked: ->\n        @model.urlRoot = 'pictures/'\n        @model.destroy\n            success: => @remove()\n            error: => alert 'server error occured'\n\n    onRotateClicked: =>\n        request.get \"pictures/#{@model.id}/rotate/\", (err) =>\n            if err then alert 'An error occured while rotating picture.'\n            else\n                alert 'Picture rotation succceeded.'\n                src = @$('img').attr 'src'\n                @$('img').attr 'src', src + '?rotate'\n\n\n    constructor: (@model) -> super()\n\n    afterRender: ->\n        @buttons = @$ '.picture-buttons'\n        @buttons.hide()\n\n    getRenderData: ->\n        renderer = new Renderer()\n        @model.set 'displayDate', renderer.renderDate @model.get 'date'\n        model: @model?.toJSON()\n","CollectionView = require '../lib/view_collection'\nPictureView = require './picture'\nPicturesCollection = require '../collections/pictures'\nNoteView = require './note'\n\nmodule.exports = class PicturesView extends CollectionView\n    el: '#pictures'\n\n    collection: new PicturesCollection()\n    view: PictureView\n\n    template: ->\n        require './templates/pictures'\n\n    constructor: (collection) ->\n        super\n        @rendered = 0\n\n    afterRender: ->\n\n    fetch: ->\n        @collection.off 'add'\n        @collection.fetch\n            success: (pictures) =>\n                @renderAll pictures.models\n\n    renderOne: (model, options) =>\n        view = new @view model\n        if options?.prepend\n            @currentRow.prepend view.render().el\n        else\n            @currentRow.append view.render().el\n        @add view\n        @\n\n    renderAll: (models) =>\n        rendered = 0\n        @currentRow = $ '<div class=\"row\"></div>'\n\n        for model in models\n            if rendered % 3 is 0\n                @currentRow = $ '<div class=\"row\"></div>'\n                @$el.append @currentRow\n            @renderOne model\n            rendered++\n        @\n\n    loadMore: ->\n        $(\"#more-pictures\").spin 'small'\n        collection = new PicturesCollection()\n        collection.url = @collection.url + @getLastDate()\n        collection.fetch\n            success: (pictures) =>\n                @renderAll pictures.models\n                @setLastDate collection\n                $(\"#more-pictures\").spin()\n                if pictures.length < 12\n                    $(\"#more-pictures\").hide()\n\n            error: =>\n                alert 'server error occured'\n\n    setLastDate: (collection) ->\n        picture = collection.last()\n        if picture?\n            lastDate = moment picture.get 'date'\n            @lastDate = lastDate.utc().format('YYYY-MM-DD-HH-mm-SS') + '/'\n        else\n            @lastDate = ''\n\n    getLastDate: ->\n        if @lastDate?\n            @lastDate\n        else\n            @setLastDate @collection\n            @getLastDate()\n","View = require '../lib/view'\nPicturesView = require './pictures'\nPicture = require '../models/picture'\n\nmodule.exports = class PicturesMainView extends View\n    id: 'pictures-view'\n\n    events:\n        \"click #more-pictures\": \"loadMorePictures\"\n\n    template: ->\n        require './templates/pictures_view'\n\n    afterRender: ->\n\n    fetch: ->\n        @picturesView ?= new PicturesView()\n        @picturesView.fetch()\n        @isLoaded = true\n\n    loadMorePictures: =>\n        @picturesView.loadMore()\n","View = require '../lib/view'\nOwner = require '../models/owner_model'\n\nclass ProfileController\n\n    constructor: (@view, @model) ->\n        @model.isLoaded = false\n\n    onProfileChanged: ->\n        @model.save()\n\n    onUploadComplete: ->\n        @view.reloadPicture()\n\n    onChangePasswordClicked: ->\n        @view.displaySesameForm()\n\n    onConfirmPasswordClicked: ->\n        sesame = @getSesameFieldVal()\n        @saveSesame(sesame) if sesame?\n\n    getSesameFieldVal: =>\n        sesame = @model.get \"sesame\"\n        if sesame.length > 4\n            sesame\n        else\n            @view.sesameForm.find('.error').html \"New sesame is too short\"\n            @view.sesameForm.find('.error').fadeIn()\n            null\n\n    saveSesame: (sesame) ->\n        @model.newSesame sesame, (err) =>\n            console.log err\n            if err\n                @view.displaySesameError \"A server error occured.\"\n            else\n                @view.displaySesameSuccess()\n                setTimeout(=>\n                    @view.displayChangePasswordButton()\n                , 2000)\n\n    onDataLoaded: ->\n        @setOwnerUrl() unless @model.get(\"url\")?\n        @model.isLoaded = true\n\n        @view.render()\n\n    setOwnerUrl: =>\n        url = \"#{window.location.protocol}//#{window.location.host}/\"\n        @model.set 'url', url\n        @model.save()\n\n\nmodule.exports = class ProfileView extends View\n    id: 'profile-view'\n\n    events:\n        \"click #change-password-button\": \"onChangePasswordClicked\"\n        \"click #confirm-password-button\": \"onConfirmPasswordClicked\"\n        \"keyup #profile-name-field\": \"onProfileChanged\"\n        \"keyup #profile-url-field\": \"onProfileChanged\"\n        \"keyup #profile-sesame-field\": \"onNewSesameKeyUp\"\n        'mousedown .editable': 'editableClick'\n\n    template: ->\n        require('./templates/profile')\n\n    getRenderData: ->\n        model: @model?.toJSON()\n\n    render: ->\n        if @model?.isLoaded\n            @beforeRender()\n            @$el.html @template()(@getRenderData())\n            @afterRender()\n        else\n            @model = new Owner()\n            @controller = new ProfileController @, @model\n\n    afterRender: ->\n        @sesameForm = @$ \"#sesame-form\"\n        @profileSesameField = @$ \"#profile-sesame-field\"\n        @profileNameField = @$ \"#profile-name-field\"\n        @profileUrlField = @$ \"#profile-url-field\"\n        @model.bindField \"name\", @profileNameField\n        @model.bindField \"url\", @profileUrlField\n        @model.bindField \"sesame\", @profileSesameField\n\n        @descriptionField = @$ \"#profile-description\"\n        @converter = new Showdown.converter()\n        if @model.get(\"description\")?.length > 0\n            @descriptionField.html @converter.makeHtml(@model.get('description'))\n        else\n            @descriptionField.html \"your description\"\n        @descriptionField.keyup =>\n            @model.set \"description\", toMarkdown(@descriptionField.html())\n            @model.save()\n        @model.bind 'save', =>\n            @model.set \"description\", toMarkdown(@descriptionField.html())\n            @model.save\n\n        @passwordButton = @$ \"#change-password-button\"\n        @confirmPasswordButton = @$ \"#confirm-password-button\"\n        @pictureButton = @$ \"#change-thumbnail-button\"\n        @profilePicture = @$ \"#profile-picture\"\n        @fileUploader = new qq.FileUploader\n            element: document.getElementById('change-picture-button')\n            action: '/user/picture'\n            allowedExtensions: ['jpg', 'jpeg', 'png']\n            stylesheets: [\"\"]\n            debug: true\n            mutliple: false\n            onComplete: @onUploadComplete\n        @\n\n    onProfileChanged: => @controller.onProfileChanged()\n\n    onUploadComplete: => @controller.onUploadComplete()\n\n    onChangePasswordClicked: => @controller.onChangePasswordClicked()\n\n    onConfirmPasswordClicked: => @controller.onConfirmPasswordClicked()\n\n    onNewSesameKeyUp: (event) =>\n        keyCode = event.keyCode\n        keyCode ?= event.which\n        if keyCode is 13\n            @controller.onConfirmPasswordClicked()\n\n    editableClick: etch.editableInit\n\n    reloadPicture: ->\n        now = new Date().getTime()\n        @profilePicture.attr \"src\", \"user/picture.jpg?date=#{now}\"\n        true\n\n    displaySesameForm: ->\n        @passwordButton.fadeOut =>\n            @sesameForm.find('.error').hide()\n            @sesameForm.find('.success').hide()\n            @sesameForm.fadeIn =>\n                @profileSesameField.focus()\n\n    displayChangePasswordButton: ->\n        @profileSesameField.val null\n        @sesameForm.fadeOut =>\n            @passwordButton.fadeIn()\n\n    hideSesameInfos: ->\n        @sesameForm.find('.error').hide()\n        @sesameForm.find('.success').hide()\n\n    displaySesameError: (msg) ->\n        @sesameForm.find('.error').html msg\n        @sesameForm.find('.error').fadeIn()\n\n    displaySesameSuccess: ->\n        @sesameForm.find('.success').fadeIn()\n\n    fetch: ->\n        unless @model.isLoaded\n            @model.fetch\n                success: =>\n                    @controller.onDataLoaded()\n                    @\n\n                error: =>\n                    alert \"something went wrong while retrieving profile.\"\n","View = require '../lib/view'\nrequest = require '../lib/request'\n\n# Canvas for views with a single question like login or regsiter page.\nmodule.exports = class QuestionView extends View\n\n    getRenderData: ->\n        return question: @question, type: @type, fieldId: @fieldId\n\n    template: ->\n        require('./templates/question')\n\n    afterRender: ->\n        @field = @$(\"##{@fieldId}\")\n        @field.keyup (event) =>\n            @onSubmit() if event.which is 13\n\n    onSubmit: ->\n        val = @field.val()\n        if val.length > 0\n            data = {}\n            data[@fieldName] = val\n            request.post @submitPath, data, @onServerResponse\n\n    onServerResponse: (err, data) ->\n \n    focusField: ->\n        @field.animate boxShadow: '4px 4px 10px #888'\n        @field.focus()\n\n    clearField: ->\n        @field.val ''\n","QuestionView = require './question_view'\nrequest = require '../lib/request'\n\nmodule.exports = class RegisterNameView extends QuestionView\n    id: 'register-name-view'\n\n    initialize: ->\n        @question = \"What is your name ?\"\n        @fieldId = \"register-name\"\n        @type = \"text\"\n        @fieldName = \"name\"\n        @submitPath = \"register/\"\n        @render()\n\n    onServerResponse: (err, data) =>\n        if err\n            alert \"Something went wrong while registering your name.\" + \\\n                \"Try it again.\"\n        else\n            @field.animate {boxShadow: '0'}, =>\n                Newebe.views.appView.displayRegisterPassword()\n","QuestionView = require './question_view'\nrequest = require '../lib/request'\n\nmodule.exports = class RegisterPasswordView extends QuestionView\n    id: 'register-password-view'\n\n    initialize: ->\n        @question = \"Tell me your sesame\"\n        @fieldId = \"register-password\"\n        @type = \"password\"\n        @fieldName = \"password\"\n        @submitPath = \"register/password/\"\n        @render()\n\n    onServerResponse: (err, data) =>\n        if err\n            alert \"Something went wrong while registering your sesame.\" + \\\n                \"Try it again.\"\n        else\n            @field.animate {boxShadow: '0'}, =>\n                Newebe.views.appView.displayHome()\n","CollectionView = require '../lib/view_collection'\nTagView = require './simple_tag_view'\nTags = require '../collections/tags'\nstringUtils = require '../lib/string'\n\n\nmodule.exports = class SimpleTagListView extends CollectionView\n\n    collection: new Tags()\n    view: TagView\n\n    constructor: (@el) ->\n        super()\n        @selectedTag = 'all'\n\n    template: ->\n        require './templates/simple_tags'\n\n    fetch: (callbacks) ->\n        @remove(@views) if @views.length > 0\n        @collection.fetch callbacks\n\n    select: (name) ->\n        @selectedTag = name\n        @$(\".tag-selector button\").unselect()\n        @$(\".tag-#{name} button\").select()\n","View = require 'lib/view'\n\nmodule.exports = class TagView extends View\n    className: 'tag-selector'\n\n    events:\n        'click .tag-select-button': 'onSelectClicked'\n\n    constructor: (@model, @tagsView) ->\n        super()\n\n    template: ->\n        require './templates/simple_tag'\n\n    afterRender: ->\n        @selectTagButton = @$('.tag-select-button')\n        @$el.addClass \"tag-#{@model.get 'name'}\"\n\n    getRenderData: ->\n        model: @model?.toJSON()\n\n    onSelectClicked: ->\n        @publish 'tag:selected', @model.get 'name'\n        @select()\n\n    select: ->\n        @selectTagButton.select()\n","TagView = require './tag_view'\n\nmodule.exports = class TagAllView extends TagView\n    className: 'tag-selector tag-all'\n\n    events:\n        'click .tag-select-button': 'onSelectClicked'\n        'click .tag-add-button': 'onAddClicked'\n\n    afterRender: ->\n        @addTagButton = @$('.tag-add-button')\n        @selectTagButton = @$('.tag-select-button')\n        @addTagButton.hide() if @tagsView.isFull()\n\n    template: ->\n        require './templates/tag_all'\n\n    onSelectClicked: ->\n        @publish 'tag:selected', 'all'\n        @selectTagButton.addClass 'selected'\n\n    onAddClicked: ->\n        @addTagButton.fadeOut =>\n            @tagsView.showNewTagForm()\n","View = require 'lib/view'\n\nmodule.exports = class TagView extends View\n    className: 'tag-selector'\n\n    events:\n        'click .tag-select-button': 'onSelectClicked'\n        'click .tag-delete-button': 'onDeleteClicked'\n\n    constructor: (@model, @tagsView) ->\n        super()\n\n    template: ->\n        require './templates/tag'\n\n    afterRender: ->\n        @selectTagButton = @$('.tag-select-button')\n        @$el.addClass \"tag-#{@model.get 'name'}\"\n\n    getRenderData: ->\n        model: @model?.toJSON()\n\n    onSelectClicked: ->\n        @publish 'tag:selected', @model.get 'name'\n        @selectTagButton.select()\n\n    onDeleteClicked: ->\n        button = $(\".tag-delete-button\")\n        button.spin 'tiny'\n        @model.destroy\n            success: =>\n                @tagsView.onTagDeleted @model.get 'name'\n                @remove()\n            error: =>\n                button.spin()\n                alert 'An error occured while deleting tag'\n","CollectionView = require '../lib/view_collection'\nTagView = require './tag_view'\nTagAllView = require './tag_all_view'\nTags = require '../collections/tags'\nstringUtils = require '../lib/string'\n\n\nmodule.exports = class TagsView extends CollectionView\n    el: '#tag-list'\n\n    collection: new Tags()\n    view: TagView\n\n    events:\n        'keyup #new-tag-field': 'onNewTagKeyup'\n        'click #new-tag-button': 'onNewTagClicked'\n\n    template: ->\n        require './templates/tags'\n\n    afterRender: ->\n        @newTagField = @$ '#new-tag-field'\n        @newTagButton = @$ '#new-tag-button'\n        @newTagField.keypress @onNewTagKeypress\n        @newTagField.hide()\n        @newTagButton.hide()\n\n    renderOne: (model) =>\n        if model.get('name') isnt 'all'\n            view = new @view model, @\n        else\n            view = new TagAllView model, @\n\n        @$el.prepend view.render().el\n        @add view\n        @\n\n    showNewTagForm: ->\n        @newTagField.show()\n        @newTagButton.show()\n        @newTagField.focus()\n\n    isFull: ->\n        @collection.length > 6\n\n    fetch: (callbacks) ->\n        @remove(@views) if @views.length > 0\n        @collection.fetch callbacks\n\n    # prevent special chars in tags\n    onNewTagKeypress: (event) =>\n        key = event.which\n        stringUtils.isSpecialKey key, event\n\n    onNewTagKeyup: (event) =>\n        @onNewTagClicked() if event.which is 13\n\n    onNewTagClicked: =>\n        button = $(\"#new-tag-button\")\n        return true if @newTagField.val()?.length is 0\n\n        unless @isFull()\n            button.spin 'small'\n            @collection.create name: @newTagField.val(),\n                success: (tag) =>\n                    button.spin()\n                    @newTagField.val ''\n                    @newTagField.focus()\n        else\n            alert \"You can't add more tags\"\n\n    onTagDeleted: (name) ->\n        @contactsView.onTagDeleted name\n\n    select: (name) ->\n        @$(\".tag-selector button\").unselect()\n        @$(\".tag-#{name}  button\").select()\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div class=\\\"line\\\"><button id=\\\"sync-activities-button\\\">sync</button></div><div class=\\\"line\\\"><div id=\\\"activity-all\\\"></div></div><div class=\\\"line\\\"><button id=\\\"more-activities-button\\\">more</button></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model,undefined = locals_.undefined;\nbuf.push(\"<div class=\\\"infos small\\\"><div class=\\\"date smaller w100p mr2\\\">\" + (jade.escape((jade_interp = model.displayDate) == null ? '' : jade_interp)) + \"&nbsp;</div><span class=\\\"author\\\">\" + (jade.escape((jade_interp = model.author) == null ? '' : jade_interp)) + \"&nbsp;</span><span class=\\\"verb\\\">\" + (jade.escape((jade_interp = model.verb) == null ? '' : jade_interp)) + \"&nbsp;</span><span>something&nbsp;</span>\");\nif ( model.errorAmount !== undefined)\n{\nbuf.push(\"<span class=\\\"activity-error-number error\\\">(\" + (jade.escape((jade_interp = model.errorAmount) == null ? '' : jade_interp)) + \")</span>\");\n}\nbuf.push(\"<div class=\\\"activity-errors\\\"><div>Errors</div>\");\n// iterate model.errors\n;(function(){\n  var $$obj = model.errors;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var error = $$obj[$index];\n\nbuf.push(\"<div class=\\\"activity-error\\\"><span>\" + (jade.escape((jade_interp = error.contactName) == null ? '' : jade_interp)) + \"</span><span class=\\\"activity-contactUrl hidden\\\">\" + (jade.escape((jade_interp = error.contactUrl) == null ? '' : jade_interp)) + \"</span><button\" + (jade.attr(\"id\", \"\" + (error.contactKey) + \"\", true, false)) + \" class=\\\"smaller ml1 activity-error-resend\\\">resend</button></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var error = $$obj[$index];\n\nbuf.push(\"<div class=\\\"activity-error\\\"><span>\" + (jade.escape((jade_interp = error.contactName) == null ? '' : jade_interp)) + \"</span><span class=\\\"activity-contactUrl hidden\\\">\" + (jade.escape((jade_interp = error.contactUrl) == null ? '' : jade_interp)) + \"</span><button\" + (jade.attr(\"id\", \"\" + (error.contactKey) + \"\", true, false)) + \" class=\\\"smaller ml1 activity-error-resend\\\">resend</button></div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\n;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<div class=\\\"line\\\"><a\" + (jade.attr(\"href\", \"\" + (model.url) + \"\", true, false)) + \" target=\\\"_blank\\\">\" + (jade.escape((jade_interp = model.path) == null ? '' : jade_interp)) + \"</a><span>&nbsp;| \" + (jade.escape((jade_interp = model.author) == null ? '' : jade_interp)) + \" - \" + (jade.escape((jade_interp = model.displayDate) == null ? '' : jade_interp)) + \"</span><span class=\\\"common-buttons\\\"><button class=\\\"common-delete-button\\\">delete</button></span></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\n;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"commons\\\"></div><div class=\\\"line\\\"><button id=\\\"more-commons\\\">more</button></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<div class=\\\"contact-tags mod left\\\"></div><div class=\\\"name mod left\\\"><a\" + (jade.attr(\"href\", \"\" + (model.url) + \"\", true, false)) + \">\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</a></div>\");\nif ( model.state != \"Trusted\")\n{\nbuf.push(\"<div class=\\\"state mod left\\\">\" + (jade.escape((jade_interp = model.state) == null ? '' : jade_interp)) + \"</div>\");\n}\nbuf.push(\"<div class=\\\"contact-buttons mod left\\\"><button class=\\\"contact-accept-button\\\">accept</button><button class=\\\"contact-retry-button\\\">retry</button><button class=\\\"contact-delete-button\\\">X</button></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<input id=\\\"new-contact-field\\\" type=\\\"text\\\" class=\\\"field\\\"/><button id=\\\"add-contact-button\\\">add contact</button><p class=\\\"error\\\">&nbsp;</p><div id=\\\"tag-list\\\"></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<nav id=\\\"navigation\\\" class=\\\"hidden\\\"><li id=\\\"responsive-menu\\\"><a>menu</a></li><ul><li><a id=\\\"microposts-button\\\" href=\\\"#microposts\\\" class=\\\"active\\\">news</a></li><li><a id=\\\"pictures-button\\\" href=\\\"#pictures\\\" class=\\\"active\\\">pictures</a></li><li><a id=\\\"notes-button\\\" href=\\\"#commons\\\" class=\\\"active\\\">commons</a></li><li><a id=\\\"notes-button\\\" href=\\\"#notes\\\" class=\\\"active\\\">notes</a></li><li><a id=\\\"contacts-button\\\" href=\\\"#contacts\\\">contacts</a></li><li><a id=\\\"profile-button\\\" href=\\\"#profile\\\">profile</a></li><li class=\\\"right\\\"><a id=\\\"logout-button\\\">logout</a></li><li class=\\\"right\\\"><a id=\\\"infos-button\\\" href=\\\"http://newebe.org/#documentation\\\" target=\\\"_blank\\\">help</a></li><li class=\\\"right\\\"><a id=\\\"activities-button\\\" href=\\\"#activities\\\">logs</a></li></ul></nav><div id=\\\"home\\\"><p>loading...</p></div><div id=\\\"note-selector-widget\\\"></div><div id=\\\"alert-widget\\\"></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<div class=\\\"infos small\\\"><span class=\\\"author\\\">\" + (jade.escape((jade_interp = model.author) == null ? '' : jade_interp)) + \"</span><span class=\\\"verb\\\">\" + (jade.escape((jade_interp = model.verb) == null ? '' : jade_interp)) + \"</span><span class=\\\"tags smaller\\\">\" + (jade.escape((jade_interp = model.tags) == null ? '' : jade_interp)) + \"</span></div><div class=\\\"line pl0\\\"><div class=\\\"pt05 w40 mod left\\\">\" + (((jade_interp = model.displayContent) == null ? '' : jade_interp)) + \"</div></div><span class=\\\"date smaller\\\">\" + (jade.escape((jade_interp = model.displayDate) == null ? '' : jade_interp)) + \"</span><div class=\\\"micropost-buttons\\\"><button class=\\\"micropost-delete-button\\\">delete</button><button class=\\\"micropost-save-to-note-button\\\">save to note</button></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\n;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div><textarea id=\\\"micropost-field\\\"></textarea></div><div><button id=\\\"micropost-post-button\\\">send</button><button id=\\\"add-attachment\\\"><img src=\\\"static/images/attachment_white.png\\\" alt=\\\"attachement button\\\"/></button><div class=\\\"js-fileapi-wrapper\\\"><input id=\\\"attach-picture\\\" type=\\\"file\\\"/><div id=\\\"preview-list\\\" class=\\\"line\\\"></div></div></div><div class=\\\"line\\\"><input id=\\\"microposts-search\\\" placeholder=\\\"search...\\\"/></div><div class=\\\"line\\\"><div id=\\\"micropost-tag-list\\\" class=\\\"tag-list\\\"></div></div><div class=\\\"line\\\"><div id=\\\"micropost-all\\\"></div></div><div class=\\\"line\\\"><button id=\\\"more-microposts-button\\\">more</button></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<div class=\\\"mod w33 left\\\"><div class=\\\"line\\\"><input type=\\\"text\\\"\" + (jade.attr(\"value\", \"\" + (model.title) + \"\", true, false)) + \" class=\\\"note-title\\\"/></div><div class=\\\"line\\\"><span class=\\\"date smaller\\\">\" + (jade.escape((jade_interp = model.displayDate) == null ? '' : jade_interp)) + \"</span></div><div class=\\\"line\\\"><div class=\\\"note-buttons\\\"><button class=\\\"note-delete-button\\\">delete</button><button class=\\\"note-unselect-button\\\">unselect</button></div></div></div><div data-button-class=\\\"all\\\" class=\\\"mod w66 left content-note editable\\\">\" + (jade.escape((jade_interp = model.content) == null ? '' : jade_interp)) + \"</div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"\" + (jade.escape((jade_interp = model.title) == null ? '' : jade_interp)) + \"\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\n;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"note-selector-list\\\"></div><div class=\\\"line\\\"><button class=\\\"confirm right\\\">save to note</button><button class=\\\"cancel right\\\">cancel</button></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\n;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<button id=\\\"add-note\\\">add note</button><button id=\\\"sort-date-note\\\">sort by date</button><button id=\\\"sort-title-note\\\">sort by title</button><div id=\\\"notes\\\"></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<div class=\\\"line\\\"><a\" + (jade.attr(\"href\", \"\" + (model.url) + \"\", true, false)) + \" target=\\\"_blank\\\"><img\" + (jade.attr(\"src\", \"\" + (model.prevUrl) + \"\", true, false)) + \"/></a></div><div class=\\\"line\\\">\" + (jade.escape((jade_interp = model.author) == null ? '' : jade_interp)) + \" - \" + (jade.escape((jade_interp = model.displayDate) == null ? '' : jade_interp)) + \"<span class=\\\"picture-buttons\\\"><button class=\\\"picture-delete-button\\\">delete</button><button class=\\\"picture-rotate-button\\\">rotate right</button></span></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\n;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"pictures\\\"></div><div class=\\\"line\\\"><button id=\\\"more-pictures\\\">more</button></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<div class=\\\"line full-size\\\"><div class=\\\"w400p mod left main-section\\\"><div id=\\\"profile-picture-section\\\"><img id=\\\"profile-picture\\\" src=\\\"user/picture.jpg\\\"/><div id=\\\"change-picture-button\\\"></div></div><div id=\\\"profile-data-section\\\"><p><input id=\\\"profile-name-field\\\" type=\\\"text\\\"\" + (jade.attr(\"value\", \"\" + (model.name) + \"\", true, false)) + \"/></p><p><input id=\\\"profile-url-field\\\" type=\\\"text\\\"\" + (jade.attr(\"value\", \"\" + (model.url) + \"\", true, false)) + \"/></p><div id=\\\"sesame-stuff\\\"><p><button id=\\\"change-password-button\\\">change sesame</button></p><div id=\\\"sesame-form\\\"><input id=\\\"profile-sesame-field\\\" type=\\\"text\\\" value=\\\"\\\"/><button id=\\\"confirm-password-button\\\">confirm new sesame</button><div class=\\\"success\\\">Sesame changed successfully</div><div class=\\\"error\\\">An error occured</div></div></div></div></div><div class=\\\"mod full-height\\\"><div id=\\\"profile-description\\\" data-button-class=\\\"all\\\" class=\\\"editable\\\"></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),question = locals_.question,fieldId = locals_.fieldId,type = locals_.type;\nbuf.push(\"<div class=\\\"middle center question\\\"><p>\" + (jade.escape((jade_interp = question) == null ? '' : jade_interp)) + \"</p><input\" + (jade.attr(\"id\", \"\" + (fieldId) + \"\", true, false)) + (jade.attr(\"type\", \"\" + (type) + \"\", true, false)) + \" class=\\\"center\\\"/></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<button class=\\\"tag-select-button toggle-button\\\">\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</button>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\n;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<button class=\\\"tag-select-button toggle-button\\\">\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</button><button class=\\\"tag-delete-button\\\">X</button>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<button class=\\\"tag-select-button toggle-button selected\\\">\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</button><button class=\\\"tag-add-button\\\">+</button>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<input id=\\\"new-tag-field\\\"/><button id=\\\"new-tag-button\\\">add tag</button>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}